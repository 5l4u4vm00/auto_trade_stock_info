---
name: single-stock-analyzer
description: 個股快速技術分析。當使用者提到特定單一股票並想了解其技術面狀況時觸發。例如「分析 2330」、「台積電可以買嗎」、「幫我看 0050」、「個股分析 2317」、「鴻海走勢如何」、「2454 目前技術面」等。只要語境中包含一檔特定股票代號或名稱，且意圖是了解該股票的技術面、買賣方向、支撐壓力，就應使用此技能。注意：若使用者要求的是「全市場掃描」、「選股」、「今日台股」等涉及多檔股票或大盤的分析，請改用 `tw-stock-analyzer`。
---

# 個股快速技術分析

## 概述

此技能讓 Claude 能夠針對**單一指定股票**快速執行技術分析，約 3-5 秒內完成，產出包含技術指標、多空信號、支撐壓力位與綜合建議的 Markdown 報告。

## 與 tw-stock-analyzer 的區分規則

| 使用者意圖 | 觸發的 Skill |
|------------|-------------|
| 提到**特定一檔股票**（代號或名稱）想了解技術面 | ✅ `single-stock-analyzer`（本技能） |
| 全市場掃描、選股、大盤分析、交易計畫 | ❌ 改用 `tw-stock-analyzer` |

**觸發範例**：
- 「分析 2330」「幫我看台積電」「2317 可以買嗎」「聯發科走勢」
- 「0050 技術面如何」「長榮目前適合進場嗎」「個股分析 2454」

## 工作流程（4 階段）

### 階段一：辨識股票

從使用者輸入中提取股票代號或名稱。支援：
- 純數字代號：`2330`、`0050`
- 中文名稱：`台積電`、`鴻海`、`聯發科`
- 混合格式：`2330 台積電`

### 階段二：執行分析腳本

執行以下指令取得該股票的完整技術分析資料：

```bash
python3 .claude/skills/single-stock-analyzer/scripts/analyze_single_stock.py <股票代號或名稱>
```

腳本會輸出 JSON 格式的分析結果到 stdout。

**注意**：若腳本執行失敗（例如找不到股票、網路問題），請告知使用者具體錯誤並建議：
- 確認股票代號是否正確
- 稍後再試（可能是 Yahoo Finance 暫時不可用）

### 階段三：解讀結果

收到 JSON 結果後，根據以下邏輯解讀：

**參考指標判讀指南**：`.claude/skills/tw-stock-analyzer/references/indicator_guide.md`

**多空判定邏輯**：
- `bullish_signals` 陣列中的信號數量 vs `bearish_signals` 陣列中的信號數量
- `score`：正數偏多、負數偏空、0 為中性
- `suggestion`：腳本給出的初步建議（buy/sell/hold/watch）

**綜合判斷時需額外考量**：
1. 多指標共振（多個指標同方向 → 可信度高）
2. 大週期優先（MA60 方向比 MA5 重要）
3. 量價配合（上漲需有量能支撐）
4. RSI/KD 極端值的可靠度（超買不代表立刻跌，可能高檔鈍化）

### 階段四：產出報告

根據分析結果，使用下方模板產出 Markdown 報告，儲存至：
```
outputs/stock_analysis_{股票代號}_{YYYYMMDD}.md
```

## 報告模板

```markdown
# {股票名稱}（{股票代號}）技術分析報告

> 分析日期：{日期} ｜ 資料來源：Yahoo Finance

---

## 📊 價格概覽

| 項目 | 數值 |
|------|------|
| 收盤價 | {close} |
| 開盤價 | {open} |
| 最高價 | {high} |
| 最低價 | {low} |
| 成交量 | {volume} |
| 漲跌幅 | {change_pct}% |

## 📈 技術指標

### 移動平均線
| 均線 | 數值 | 與現價關係 |
|------|------|-----------|
| MA5  | {ma5}  | {現價在MA5之上/下} |
| MA10 | {ma10} | {現價在MA10之上/下} |
| MA20 | {ma20} | {現價在MA20之上/下} |
| MA60 | {ma60} | {現價在MA60之上/下} |

均線排列：{多頭排列/空頭排列/糾結}

### RSI（14日）
- 數值：{rsi}
- 判讀：{根據 indicator_guide.md 判讀}

### MACD
- DIF：{dif}
- Signal：{signal}
- 柱狀圖：{histogram}（{柱翻正/柱翻負/持續正/持續負}）

### KD 隨機指標
- K值：{k}
- D值：{d}
- 狀態：{黃金交叉/死亡交叉/高檔/低檔}

### 布林通道
- 上軌：{bb_upper}
- 中軌：{bb_mid}
- 下軌：{bb_lower}
- 股價位置：{接近上軌/中軌附近/接近下軌}

### 量能
- 量比：{volume_ratio}（{爆量/量增/正常/量縮}）

## 🔔 信號總結

### 多頭信號
{逐一列出 bullish_signals}

### 空頭信號
{逐一列出 bearish_signals}

**多空分數**：多頭 {bull_score} / 空頭 {bear_score} → {偏多/偏空/中性}

## 📐 支撐與壓力

| 類型 | 價位 | 來源 |
|------|------|------|
| 壓力1 | {resistance1} | {來源說明} |
| 壓力2 | {resistance2} | {來源說明} |
| 支撐1 | {support1} | {來源說明} |
| 支撐2 | {support2} | {來源說明} |

## 💡 綜合建議

**方向**：{買進/賣出/持有/觀望}

{Claude 根據所有指標綜合分析後的 2-3 段文字建議，包含：}
- 目前趨勢判斷
- 建議操作方向與理由
- 需要注意的風險
- 建議的進場/出場價位區間

---

> ⚠️ **免責聲明**：本報告僅供技術面參考，不構成投資建議。投資有風險，請審慎評估自身風險承受能力。
```

## 重要提醒

- 腳本負責計算數據（JSON），Claude 負責解讀與撰寫報告（Markdown），各司其職
- 綜合建議段落由 Claude 根據所有指標數據自行撰寫，不要只複製腳本的初步建議
- 報告中的價格與數值必須與 JSON 數據一致，不可捏造
- 若資料不足（例如上市不到 60 天的新股），應在報告中註明並降低建議的確定性